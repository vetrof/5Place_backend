-- +goose Up
CREATE TABLE IF NOT EXISTS app_visited_place (
	id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	user_id INTEGER NOT NULL REFERENCES app_user(id) ON DELETE CASCADE,
	place_id INTEGER NOT NULL REFERENCES app_place(id) ON DELETE CASCADE,
	visited_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	UNIQUE(user_id, place_id)
);

-- +goose Down
DROP TABLE IF EXISTS app_visited_place;
