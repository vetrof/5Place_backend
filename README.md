# 5Place

![Banner](banner.png)

---

## üåç –û –ø—Ä–æ–µ–∫—Ç–µ 5Place

**5Place** ‚Äî —ç—Ç–æ open-source –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –ª—é–±–∏—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –Ω–æ–≤–æ–µ —Ä—è–¥–æ–º —Å —Å–æ–±–æ–π. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç —Ç—É—Ä–∏—Å—Ç–∞–º –∏ –∂–∏—Ç–µ–ª—è–º –≥–æ—Ä–æ–¥–∞ —É–∑–Ω–∞–≤–∞—Ç—å –æ–± –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∏ –º–∞–ª–æ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –≤–æ–∫—Ä—É–≥.

üìç **–í—ã –∑–∞—Ö–æ–¥–∏—Ç–µ ‚Äî –∏ —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç–µ 5 –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π —Ä—è–¥–æ–º —Å –≤–∞–º–∏.**  
–ú–∞—Ä—à—Ä—É—Ç—ã —Å—Ç—Ä–æ—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∞ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–≥—É–ª–∫–∏ –º–æ–∂–Ω–æ:

- üìñ –ø–æ—á–∏—Ç–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –º–µ—Å—Ç–∞,
- üì∑ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏,
- üéß –ø–æ—Å–ª—É—à–∞—Ç—å –∞—É–¥–∏–æ –∏–ª–∏ üé• –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ—Ä–∞—Å—Å–∫–∞–∑ ‚Äî –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.

–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è **–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –ª—é–¥—å–º–∏** ‚Äî –Ω–∏–∫–∞–∫–æ–≥–æ AI-–∫–æ–Ω—Ç–µ–Ω—Ç–∞. –ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∏–π –∏–Ω—Ç–µ—Ä–µ—Å —Å–∫—Ä—ã—Ç –≤ –¥–µ—Ç–∞–ª—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–≤–µ—Å—Ç–Ω—ã –ª–∏—à—å –º–µ—Å—Ç–Ω—ã–º –∂–∏—Ç–µ–ª—è–º –∏ –æ–ø—ã—Ç–Ω—ã–º –≥–∏–¥–∞–º.

---

## ü§ù –ö–æ–Ω—Ç–µ–Ω—Ç –æ—Ç –ª—é–¥–µ–π –¥–ª—è –ª—é–¥–µ–π

- –í—Å–µ **—Ñ–æ—Ç–æ**, **—Ç–µ–∫—Å—Ç—ã**, **–∞—É–¥–∏–æ** –∏ **–≤–∏–¥–µ–æ** —Å–¥–µ–ª–∞–Ω—ã –≤—Ä—É—á–Ω—É—é.
- –ú–µ—Å—Ç–∞ –ø–æ–¥–±–∏—Ä–∞—é—Ç—Å—è **–ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≥–∏–¥–æ–≤ –∏ –º–µ—Å—Ç–Ω—ã—Ö –∑–Ω–∞—Ç–æ–∫–æ–≤**.
- –ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –ø–æ–∫–∞–∑–∞—Ç—å **—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ**, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ —Ç–µ—Ä—è—é—Ç—Å—è –≤ —à—É–º–µ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –≥–∏–≥–∞–Ω—Ç–æ–≤.

---

## üß≠ –ë—É–¥—É—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- üìå –ö—É—Ä–∏—Ä—É–µ–º—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º: –ø–∞–±—ã, –ø–∞–º—è—Ç–Ω–∏–∫–∏, –≤–∏–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏, —Å–∫–≤–µ—Ä—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.
- üó∫Ô∏è –°–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –≥–∏–¥–∞–º–∏.
- üß© –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö –ª–æ–∫–∞—Ü–∏–π, —Ñ–∏–ª—å—Ç—Ä—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤.

---

**–ü—Ä–æ–µ–∫—Ç –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ** –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ **open-source** ‚Äî –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–º–æ—á—å —Å–¥–µ–ª–∞—Ç—å –≥–æ—Ä–æ–¥–∞ –±–ª–∏–∂–µ, –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –∏ —á–µ–ª–æ–≤–µ—á–Ω–µ–µ.

---
## üöß Dev Mode

### üì¶ –ó–∞–ø—É—Å–∫ PostGIS

```bash
docker compose up -d
```

---

### üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`)

```env
DB_HOST=localhost
DB_PORT=55000
DB_USER=postgres
DB_NAME=place5
DB_PASSWORD=postgrespw
DB_SCHEMA=public
PORT=8080
```

---

### üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
go mod tidy
go run cmd/api/main.go
```

---

## üß† –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ IDE

```
jdbc:postgresql://localhost:55000/place5
```

---

## üß™ SQL –¥–ª—è —Ç–µ—Å—Ç–æ–≤

### ‚ûï –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Ä–æ–¥

```sql
INSERT INTO city (name)
VALUES ('Astana')
ON CONFLICT (name) DO NOTHING;
```

### ‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–µ—Å—Ç–æ (–±–µ–∑ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)

```sql
INSERT INTO place (city_name, name, geom, descr)
VALUES (
  'Astana',
  '–ì–ª–∞–≤–Ω–∞—è –ø–ª–æ—â–∞–¥—å –ê—Å—Ç–∞–Ω—ã ‚Äî –ø–ª–æ—â–∞–¥—å –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏',
  NULL,
  NULL
);
```

### ‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–µ—Å—Ç–æ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏

```sql
INSERT INTO place (city_name, name, geom, descr)
VALUES (
  'Astana',
  'Independence Square',
  ST_GeogFromText('SRID=4326;POINT(71.419738 51.154179)'),
  '—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫ –ê—Å—Ç–∞–Ω—ã'
);
```

---

## üìç –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

GET http://127.0.0.1:8080/near_place?long=71.108771&lat=51.962030
```json
[
  {
    "ID": 2,
    "CityName": "1",
    "Name": "house",
    "Geom": "POINT(71.40779381461866 51.16246940914874)",
    "Desc": "house",
    "Distance": 84.03784534
  },
  {
    "ID": 1,
    "CityName": "1",
    "Name": "park",
    "Geom": "POINT(71.41844700046002 51.15587254065716)",
    "Desc": "park",
    "Distance": 963.05044711
  },
  {
    "ID": 3,
    "CityName": "2",
    "Name": "mountain",
    "Geom": "POINT(77.05954207441113 43.203151137847215)",
    "Desc": "mountain",
    "Distance": 982318.60610853
  }
]

```

GET http://127.0.0.1:8080/city
```json
[
  {
    "ID": 1,
    "Name": "astana",
    "Geom": "POINT(71.41042574459857 51.15162433549682)",
    "Points": 2
  },
  {
    "ID": 2,
    "Name": "almaty",
    "Geom": "POINT(76.93752703214142 43.25406013672736)",
    "Points": 1
  }
]

```

---

## üîê –ê–¥–º–∏–Ω–∫–∞ Directus

[http://127.0.0.1:8055/](http://localhost:8055/)
```
EMAIL: 'admin@example.com'
PASSWORD: 'password'
```